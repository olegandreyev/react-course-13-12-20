(this["webpackJsonpreact-course"]=this["webpackJsonpreact-course"]||[]).push([[0],{237:function(e,t,n){},238:function(e,t,n){},245:function(e,t,n){},248:function(e,t,n){},268:function(e,t,n){},369:function(e,t,n){},370:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),s=n(44),i=n.n(s),o=(n(237),n(8)),l=n(9),j=n(12),u=n(13),d=(n(238),n(239),function(){return alert("Clicked!")}),b=(a.Component,n(17)),O=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var c,a,r;return Object(o.a)(this,n),(r=t.call(this,e)).onChangeName=function(e){r.setState({newUserName:e.target.value})},r.onChangeAge=function(e){r.setState({newUserAge:+e.target.value})},r.resetForm=function(){r.setState({newUserName:"",newUserAge:""})},r.submitUser=function(){var e=r.props.user,t=r.state,n={name:t.newUserName,age:t.newUserAge,id:e?e.id:Date.now()};return n.name&&n.age?n.age<18?alert("Adult content"):(r.props.onSubmitUser(n),void r.resetForm()):alert("Name and Age is required")},r.state={newUserName:null===(c=e.user)||void 0===c?void 0:c.name,newUserAge:null===(a=e.user)||void 0===a?void 0:a.age},r}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.newUserAge,n=e.newUserName;return Object(c.jsxs)("div",{className:"user-form",children:[Object(c.jsx)("input",{value:n,onChange:this.onChangeName,placeholder:"Ivan",name:"name",type:"text"}),Object(c.jsx)("input",{value:t,onChange:this.onChangeAge,placeholder:"18",name:"age",type:"number"}),Object(c.jsx)("button",{onClick:this.submitUser,children:"Submit user"})]})}}]),n}(a.Component),h=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={isEdit:!1},e.onEditUser=function(t){e.setState({isEdit:!1}),e.props.onEditUser(t)},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.onRemoveUser;return this.state.isEdit?Object(c.jsxs)("li",{className:"user-list-item",children:[Object(c.jsx)(O,{onSubmitUser:this.onEditUser,user:n}),Object(c.jsx)("button",{onClick:function(){return e.setState({isEdit:!1})},children:"cancel"})]}):Object(c.jsxs)("li",{className:"user-list-item",children:[Object(c.jsxs)("span",{children:[n.name," - ",n.age]}),Object(c.jsx)("button",{onClick:function(){return a(n.id)},children:"remove"}),Object(c.jsx)("button",{onClick:function(){return e.setState({isEdit:!0})},children:"edit"})]})}}]),n}(a.Component),p=(a.Component,n(20)),m=n(396),x=n(59),f=n(22),v=n(385),g=n(371),C=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var c;Object(o.a)(this,n),(c=t.call(this,e)).onChangeField=function(e){var t=e.target,n=t.name,a=t.value;c.setState(Object(f.a)({},n,a))},c.submitProductForm=function(){c.props.onSubmit(c.state),c.resetFields()},c.resetFields=function(){c.setState({title:"",type:"",price:"",quantity:""})};var a=e.product;return c.state=Object(p.a)({title:"",type:"",price:"",quantity:""},a),c}return Object(l.a)(n,[{key:"isDisabled",value:function(){var e=this.state,t=e.title,n=e.type,c=e.price,a=e.quantity;return!(t&&n&&c&&a)}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.type,a=e.price,r=e.quantity,s=this.props.onCancel;return Object(c.jsxs)(m.a.Row,{children:[Object(c.jsx)(m.a.Cell,{children:Object(c.jsx)(v.a,{placeholder:"Name",type:"text",name:"title",value:t,onChange:this.onChangeField})}),Object(c.jsx)(m.a.Cell,{children:Object(c.jsx)(v.a,{placeholder:"Type",type:"text",name:"type",value:n,onChange:this.onChangeField})}),Object(c.jsx)(m.a.Cell,{children:Object(c.jsx)(v.a,{placeholder:"Price",type:"text",name:"price",value:a,onChange:this.onChangeField})}),Object(c.jsx)(m.a.Cell,{children:Object(c.jsx)(v.a,{placeholder:"Quantity",type:"text",name:"quantity",value:r,onChange:this.onChangeField})}),Object(c.jsxs)(m.a.Cell,{style:{width:200},children:[Object(c.jsx)(g.a,{size:"small",disabled:this.isDisabled(),onClick:this.submitProductForm,children:"Submit"}),s&&Object(c.jsx)(g.a,{size:"small",onClick:s,children:"Cancel"})]})]})}}]),n}(a.Component),y=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={editMode:!1},e.onEdit=function(t){e.props.onEditProduct(t),e.setState({editMode:!1})},e.onCancel=function(){e.setState({editMode:!1})},e}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){alert("I'm removed"+this.props.product.name)}},{key:"render",value:function(){var e=this,t=this.props,n=t.product,a=t.onRemoveProduct;return this.state.editMode?Object(c.jsx)(C,{onSubmit:this.onEdit,onCancel:this.onCancel,product:n}):Object(c.jsxs)(m.a.Row,{children:[Object(c.jsx)(m.a.Cell,{children:n.title}),Object(c.jsx)(m.a.Cell,{children:n.type}),Object(c.jsx)(m.a.Cell,{children:n.price}),Object(c.jsx)(m.a.Cell,{children:n.quantity}),Object(c.jsxs)(m.a.Cell,{children:[Object(c.jsx)(x.a,{name:"edit",onClick:function(){return e.setState({editMode:!0})}}),Object(c.jsx)(x.a,{name:"trash",onClick:function(){return a(n.id)}})]})]})}}]),n}(a.Component);function w(e){var t=e.products,n=e.onRemoveProduct,a=e.onAddProduct,r=e.onEditProduct;return Object(c.jsxs)(m.a,{striped:!0,children:[Object(c.jsx)(m.a.Header,{children:Object(c.jsxs)(m.a.Row,{children:[Object(c.jsx)(m.a.HeaderCell,{children:"Name"}),Object(c.jsx)(m.a.HeaderCell,{children:"Type"}),Object(c.jsx)(m.a.HeaderCell,{children:"Price"}),Object(c.jsx)(m.a.HeaderCell,{children:"Quantity"}),Object(c.jsx)(m.a.HeaderCell,{children:"Actions"})]})}),Object(c.jsxs)(m.a.Body,{children:[t.map((function(e){return Object(c.jsx)(y,{onRemoveProduct:n,onEditProduct:r,product:e},e.id)})),Object(c.jsx)(C,{onSubmit:a})]})]})}a.Component;var N=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)(v.a,Object(p.a)(Object(p.a)({},this.props),{},{icon:"search"}))}}]),n}(a.Component),_=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var e=this.props,t=e.list,n=e.renderItem;return Object(c.jsx)("div",{className:"list",children:t.map((function(e){return n(e)}))})}}]),n}(a.Component),S=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={search:""},e.onChangeSearch=function(t){e.setState({search:t.target.value})},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.search,t=this.props,n=t.list,a=t.renderItem,r=t.noFoundText,s=t.children,i=n.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())}));return Object(c.jsxs)("div",{className:"searchable-list",children:[Object(c.jsx)(N,{value:e,onChange:this.onChangeSearch}),Object(c.jsx)(_,{list:i,renderItem:a}),0===i.length&&r,s]})}}]),n}(a.Component),E=(a.Component,a.Component,n(11)),k=n(392),T=n(393),P=n(399),I=n(386),D=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)(P.a,{active:this.props.active,inverted:!0,children:Object(c.jsx)(I.a,{inverted:!0,children:"Loading"})})}}]),n}(a.Component),F=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={loading:!1,comments:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchComments()}},{key:"fetchComments",value:function(){var e=this;this.setState({loading:!0}),fetch("https://jsonplaceholder.typicode.com/posts/".concat(this.props.postId,"/comments")).then((function(e){return e.json()})).then((function(t){e.setState({loading:!1,comments:t})})).catch((function(){return e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this.state.comments;return Object(c.jsxs)(T.a.Group,{className:"comments",children:[Object(c.jsx)(D,{active:this.state.loading}),e.length>0&&e.map((function(e){return Object(c.jsx)(T.a,{children:Object(c.jsxs)(T.a.Content,{children:[Object(c.jsx)(T.a.Author,{as:"a",children:e.email}),Object(c.jsx)(T.a.Text,{children:e.name}),Object(c.jsx)(T.a.Text,{children:e.body})]})})}))]})}}]),n}(a.Component),R=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={areCommentsDisplayed:!1},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.post,a=t.onClick,r=this.state.areCommentsDisplayed;return Object(c.jsx)(k.a,{children:Object(c.jsxs)(k.a.Event,{children:[Object(c.jsx)(k.a.Label,{children:Object(c.jsx)("img",{src:"https://react.semantic-ui.com/images/avatar/small/justen.jpg"})}),Object(c.jsxs)(k.a.Content,{children:[Object(c.jsx)(k.a.Summary,{onClick:a,children:Object(c.jsx)(k.a.User,{children:n.title})}),Object(c.jsx)(k.a.Extra,{text:!0,children:n.body}),Object(c.jsx)(k.a.Extra,{children:Object(c.jsx)("a",{onClick:function(){return e.setState({areCommentsDisplayed:!r})},children:r?"Hide Comments":"Show Comments"})}),Object(c.jsx)(k.a.Extra,{children:r&&Object(c.jsx)(F,{postId:n.id})})]})]})})}}]),n}(a.Component);var U=function(e){var t=e.onPostClick,n=function(){var e=Object(a.useState)(!1),t=Object(E.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(E.a)(r,2),i=s[0],o=s[1];return Object(a.useEffect)((function(){c(!0),fetch("https://jsonplaceholder.typicode.com/posts").then((function(e){return e.json()})).then((function(e){c(!1),o(e)}))}),[]),[i,n]}(),r=Object(E.a)(n,2),s=r[0],i=r[1];return Object(c.jsxs)("div",{className:"post-list-wrapper",children:[Object(c.jsx)(D,{active:i}),s.map((function(e){return Object(c.jsx)(R,{onClick:function(){return t(e)},post:e},e.id)}))]})},A=n(397),L=n(218),M=n(395);var V=function(e){var t=e.authorId,n=Object(a.useState)(null),r=Object(E.a)(n,2),s=r[0],i=r[1],o=Object(a.useState)([]),l=Object(E.a)(o,2),j=l[0],u=l[1],d=Object(a.useState)(!1),b=Object(E.a)(d,2),O=b[0],h=b[1];return Object(a.useEffect)((function(){t&&(h(!0),fetch("https://jsonplaceholder.typicode.com/users/".concat(t)).then((function(e){return e.json()})).then((function(e){h(!1),i(e)})),h(!0),fetch("https://jsonplaceholder.typicode.com/users/".concat(t,"/albums")).then((function(e){return e.json()})).then((function(e){h(!1),u(e)})))}),[t]),Object(c.jsxs)("div",{className:"author-fixed",children:[Object(c.jsx)(D,{active:O}),s&&Object(c.jsxs)(A.a,{children:[Object(c.jsx)(L.a,{src:"https://react.semantic-ui.com/images/avatar/large/matthew.png",wrapped:!0,ui:!1}),Object(c.jsxs)(A.a.Content,{children:[Object(c.jsx)(A.a.Header,{children:s.name}),Object(c.jsx)(A.a.Meta,{children:Object(c.jsx)("span",{className:"date",children:s.email})}),Object(c.jsxs)(A.a.Description,{children:[s.address.city,", ",s.address.street," ",s.address.zipcode]})]}),Object(c.jsx)(A.a.Content,{extra:!0,children:Object(c.jsxs)("a",{children:[Object(c.jsx)(x.a,{name:"camera"}),j.length," Albums",Object(c.jsx)(M.a,{children:j.map((function(e){return Object(c.jsx)(M.a.Item,{children:e.title})}))})]})})]})]})},q=n(401),H=(a.Component,a.Component,n(245),n(211)),X=(n(246),n(247),function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(e){var c;return Object(o.a)(this,n),(c=t.call(this,e)).slider=r.a.createRef(),c.glider=null,c}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.glider=new H.a(this.slider.current,this.props.options).mount()}},{key:"componentDidUpdate",value:function(e){this.props.options!==e.options&&this.glider.update(this.props.options)}},{key:"componentWillUnmount",value:function(){this.glider.destroy()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.bullets;return Object(c.jsxs)("div",{ref:this.slider,className:"glide",children:[Object(c.jsx)("div",{className:"glide__track","data-glide-el":"track",children:Object(c.jsx)("ul",{className:"glide__slides",children:t.map((function(e){return Object(c.jsx)("li",{className:"glide__slide",children:e})}))})}),Object(c.jsxs)("div",{className:"glide__arrows","data-glide-el":"controls",children:[Object(c.jsx)("button",{className:"glide__arrow glide__arrow--left","data-glide-dir":"<",children:"prev"}),Object(c.jsx)("button",{className:"glide__arrow glide__arrow--right","data-glide-dir":">",children:"next"})]}),n&&Object(c.jsx)("div",{className:"glide__bullets","data-glide-el":"controls[nav]",children:t.map((function(e,t){return Object(c.jsx)("button",{className:"glide__bullet","data-glide-dir":"=".concat(t)},t)}))})]})}}]),n}(a.Component));X.defaultProps={bullets:!0};var B=n(387),G=n(391),z=n(372),W=n(388);a.Component;r.a.Component;new Set;var $=n(404),Y=n(398),J=n(27),Q=(n(248),n(403)),K=n(390),Z=n(16);var ee=function(){return Object(c.jsx)(B.a,{className:"page",children:Object(c.jsx)(Q.a,{children:"Welcome to the BlogV2"})})},te=n(394),ne=n(69),ce=n.n(ne),ae=ce.a.create({baseURL:"https://jsonplaceholder.typicode.com/"});function re(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],c=Object(a.useState)(t),r=Object(E.a)(c,2),s=r[0],i=r[1],o=Object(a.useState)(null),l=Object(E.a)(o,2),j=l[0],u=l[1],d=Object(a.useState)(!1),b=Object(E.a)(d,2),O=b[0],h=b[1];return Object(a.useEffect)((function(){n&&(h(!0),ae.get(e).then((function(e){h(!1),i(e.data)})).catch((function(e){h(!1),u(e.response)})))}),[e,n]),[s,O,j]}var se=function(e){var t=e.active;return Object(c.jsx)(P.a,{active:t,inverted:!0,children:Object(c.jsx)(I.a,{})})};function ie(e){var t=e.postId,n=re("/posts/".concat(t,"/comments"),[]),a=Object(E.a)(n,2),r=a[0],s=a[1];return s?Object(c.jsx)(x.a,{name:"asterisk",loading:!0}):Object(c.jsxs)(T.a.Group,{children:[Object(c.jsx)(se,{active:s}),r.map((function(e){return Object(c.jsxs)(T.a,{children:[Object(c.jsx)(T.a.Avatar,{src:"https://www.kindpng.com/picc/m/78-786207_user-avatar-png-user-avatar-icon-png-transparent.png"}),Object(c.jsxs)(T.a.Content,{children:[Object(c.jsx)(T.a.Author,{children:e.email}),Object(c.jsx)(T.a.Text,{children:e.body})]})]},e.id)}))]})}function oe(e){var t=e.post,n=Object(a.useState)(!1),r=Object(E.a)(n,2),s=r[0],i=r[1],o=re("/users/".concat(t.userId),null,s),l=Object(E.a)(o,2),j=l[0],u=l[1];return Object(c.jsx)(te.a,{children:Object(c.jsxs)(te.a.Content,{children:[Object(c.jsx)(te.a.Header,{as:"a",children:t.title}),Object(c.jsx)(te.a.Description,{children:t.body}),Object(c.jsxs)(te.a.Extra,{children:[!j&&Object(c.jsx)(se,{active:u}),j&&Object(c.jsxs)(Z.b,{to:"/users/".concat(t.userId),children:["Go to ",j?j.name:"Author"]})]}),Object(c.jsx)(te.a.Extra,{onClick:function(){return i(!s)},children:"Comments"}),s&&Object(c.jsx)(te.a.Extra,{children:Object(c.jsx)(ie,{postId:t.id})})]})})}function le(){var e=re("/posts",[]),t=Object(E.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)(B.a,{className:"page",children:[Object(c.jsx)(se,{active:a}),Object(c.jsx)(te.a.Group,{className:"posts",children:n.map((function(e){return Object(c.jsx)(oe,{post:e},e.id)}))})]})}function je(){var e=re("/users",[]),t=Object(E.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)(B.a,{className:"page",children:[Object(c.jsx)(se,{active:a}),Object(c.jsx)(q.a,{className:"users",columns:4,children:n.map((function(e){return Object(c.jsx)(q.a.Column,{children:Object(c.jsxs)(A.a,{style:{width:"100%"},children:[Object(c.jsx)(L.a,{src:"https://react.semantic-ui.com/images/avatar/large/matthew.png",wrapped:!0,ui:!1}),Object(c.jsxs)(A.a.Content,{children:[Object(c.jsx)(A.a.Header,{children:Object(c.jsx)(Z.b,{to:"/users/".concat(e.id),className:"email",children:e.name})}),Object(c.jsx)(A.a.Meta,{children:Object(c.jsx)(Z.b,{to:"/users/".concat(e.id),className:"email",children:e.email})}),Object(c.jsxs)(A.a.Description,{children:[e.address.street," ",e.address.suite,", ",e.address.city]})]}),Object(c.jsx)(A.a.Content,{})]})})}))})]})}function ue(){var e=re("/albums",[]),t=Object(E.a)(e,2),n=t[0],a=t[1];return Object(c.jsxs)(B.a,{className:"page",children:[Object(c.jsx)(se,{active:a}),Object(c.jsx)(te.a.Group,{className:"posts",children:n.map((function(e){return Object(c.jsx)(te.a,{children:Object(c.jsxs)(te.a.Content,{children:[Object(c.jsx)(te.a.Header,{children:e.title}),Object(c.jsx)(te.a.Extra,{children:Object(c.jsx)(Z.b,{to:"/users/".concat(e.userId,"/albums/").concat(e.id),children:"See photos"})})]})})}))})]})}function de(){var e=Object(J.h)(),t=e.userId,n=e.albumId,a=re("/albums/".concat(n),{}),r=Object(E.a)(a,3),s=r[0],i=r[2],o=re("/albums/".concat(n,"/photos"),[]),l=Object(E.a)(o,2),j=l[0],u=l[1];return i&&404===i.status?(console.log(i),Object(c.jsx)(J.a,{to:"/users/".concat(t)})):Object(c.jsxs)(B.a,{className:"page",children:[Object(c.jsx)(se,{active:u}),Object(c.jsx)(Q.a,{children:s.title}),j.length>0&&Object(c.jsx)(X,{options:{perView:3},bullets:!1,children:j.map((function(e){return Object(c.jsx)(L.a,{src:e.url,rounded:!0})}))})]})}function be(){return Object(c.jsx)(B.a,{className:"page",children:Object(c.jsx)(Q.a,{children:"404 Page not Found"})})}function Oe(){var e=Object(J.h)().userId,t=Object(J.i)(),n=t.path,a=t.url,r=re("/users/".concat(e),null),s=Object(E.a)(r,2),i=s[0],o=s[1],l=re("/users/".concat(e,"/albums"),[]),j=Object(E.a)(l,1)[0];return Object(c.jsxs)(B.a,{className:"page",children:[Object(c.jsx)(se,{active:o}),i&&Object(c.jsxs)(q.a,{children:[Object(c.jsx)(q.a.Column,{width:6,children:Object(c.jsxs)(A.a,{fluid:!0,children:[Object(c.jsx)(L.a,{src:"https://react.semantic-ui.com/images/avatar/large/matthew.png",wrapped:!0,ui:!1}),Object(c.jsxs)(A.a.Content,{children:[Object(c.jsx)(A.a.Header,{children:i.name}),Object(c.jsx)(A.a.Meta,{children:Object(c.jsx)("span",{className:"email",children:i.email})}),Object(c.jsxs)(A.a.Description,{children:[i.address.street," ",i.address.suite,", ",i.address.city]})]}),Object(c.jsx)(A.a.Content,{extra:!0,children:Object(c.jsxs)("a",{children:[Object(c.jsx)(x.a,{name:"user"}),j.length," Albums"]})}),Object(c.jsx)(A.a.Content,{children:Object(c.jsx)(M.a,{children:j.map((function(e){return Object(c.jsx)(M.a.Item,{children:Object(c.jsx)(Z.b,{to:"".concat(a,"/albums/").concat(e.id),children:e.title})},e.id)}))})})]})}),Object(c.jsx)(q.a.Column,{width:10,children:Object(c.jsxs)(J.d,{children:[Object(c.jsx)(J.b,{exact:!0,path:n,children:Object(c.jsx)(Q.a,{as:"h3",children:"Select a album."})}),Object(c.jsx)(J.b,{path:"".concat(n,"/albums/:albumId"),exact:!0,children:Object(c.jsx)(de,{})}),Object(c.jsx)(J.b,{path:"*",children:Object(c.jsx)(be,{})})]})})]})]})}Object(J.j)((function(e){var t=e.location;return Object(c.jsx)($.a,{children:Object(c.jsx)(Y.a,{classNames:"fade",timeout:250,children:Object(c.jsxs)(J.d,{location:t,children:[Object(c.jsx)(J.b,{path:"/",exact:!0,component:ee}),Object(c.jsx)(J.b,{path:"/posts",exact:!0,component:le}),Object(c.jsx)(J.b,{path:"/users",exact:!0,component:je}),Object(c.jsx)(J.b,{path:"/users/:userId",component:Oe}),Object(c.jsx)(J.b,{path:"/albums",exact:!0,component:ue}),Object(c.jsx)(J.b,{path:"*",component:be})]})},t.pathname.includes("/users/")?void 0:t.key)})}));var he=n(10),pe="ADD_TODO",me="REMOVE_TODO",xe="COMPLETE_TODO";var fe="FILTER_TODO";var ve=n(25),ge=[],Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return[].concat(Object(b.a)(e),[{id:Math.random()+"",title:t.payload.title,completed:!1}]);case me:return e.filter((function(e){return e.id!==t.payload}));case xe:return e.map((function(e){return e.id===t.payload?Object(p.a)(Object(p.a)({},e),{},{completed:!0}):e}));default:return e}},ye="INCREMENT",we="DECREMENT",Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return e+1;case we:return e-1;default:return e}};var _e=Object(ve.c)({todo:Object(ve.c)({list:Ce,filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return t.payload;default:return e}}}),counter:Ne});Object(ve.e)(_e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var Se="ADD_PRODUCT_TO_CART",Ee="REMOVE_PRODUCT_FROM_CART",ke=[],Te=[{id:"1",title:"Samsung Galaxy S10",type:"device",price:800,quantity:"10",img:"https://i.citrus.ua/imgcache/size_800/uploads/shop/e/8/e80e6d491b7dcba4895ec62b3c67e061.jpg"},{id:"2",title:"IPhone X",type:"device",price:600,quantity:"10",img:"https://luxmobile.com.ua/image/cache/catalog/foto/iphonex/03-1000x1340.jpg"},{id:"3",title:"\u041f\u043b\u0430\u0442\u044c\u0435",type:"clothes",price:120,quantity:"5",img:"https://krasota-ua.com/image/import_files/fb/fb30e08b3e7d11ea81b6fa163e3f7418_fb30e08c3e7d11ea81b6fa163e3f7418.jpg"}],Pe=Object(ve.c)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se:var n=e.find((function(e){return e.id===t.payload}));return n?e.map((function(e){return e===n?Object(p.a)(Object(p.a)({},n),{},{count:n.count+1}):e})):[].concat(Object(b.a)(e),[{id:t.payload,count:1}]);case Ee:var c=e.find((function(e){return e.id===t.payload}));return 1===c.count?e.filter((function(e){return e.id!==t.payload})):e.map((function(e){return e===c?Object(p.a)(Object(p.a)({},c),{},{count:c.count-1}):e}));default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te;return e}});var Ie=n(120),De=n(70),Fe=Object(De.a)((function(e){return e.products}),(function(e){return e.cart}),(function(e,t){return t.map((function(t){var n=e.find((function(e){return e.id===t.id})),c=n.id,a=n.img,r=n.price,s=n.title;return{id:c,count:t.count,img:a,price:r,title:s}}))}));Object(De.a)(Fe,(function(e){return e.reduce((function(e,t){return e+1*t.count}),0)})),Object(De.a)(Fe,(function(e){return e.reduce((function(e,t){return e+t.price*t.count}),0)}));n(268);Object(ve.e)(Pe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());var Re=n(118),Ue=n(213),Ae=n.n(Ue),Le="SELECT_TOPIC",Me="FETCH_POSTS_BY_TOPIC_PENDING",Ve="FETCH_POSTS_BY_TOPIC_SUCCESS",qe="FETCH_POSTS_BY_TOPIC_ERROR";var He={error:null,loading:!1,list:[]};function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(p.a)(Object(p.a)({},e),{},{loading:!0});case Ve:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,list:t.payload});case qe:return Object(p.a)(Object(p.a)({},e),{},{loading:!1,error:t.payload});default:return e}}var Be=Object(ve.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:case Ve:case qe:return Object(p.a)(Object(p.a)({},e),{},Object(f.a)({},t.meta.topic,Xe(e[t.meta.topic],t)));default:return e}},selectedTopic:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===Le?t.payload:e}}),Ge=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):ve.d)(Object(ve.a)(Re.a,Ae.a));n(389);Object(ve.e)(Be,Ge);var ze,We,$e=n(37),Ye=Object($e.c)({name:"cart",initialState:[],reducers:{addProductToCard:function(e,t){var n=e.find((function(e){return e.id===t.payload}));n?n.count++:e.push({id:t.payload,count:1})},removeProductFormCart:function(e,t){var n=e.find((function(e){return e.id===t.payload}));if(1===n.count)return e.filter((function(e){return n!==e}));n.count--}}}),Je=Ye.reducer,Qe=Ye.actions,Ke=Qe.addProductToCard,Ze=Qe.removeProductFormCart,et=n(19),tt=n.n(et),nt=n(31),ct=Object($e.b)("products/fetchProducts",Object(nt.a)(tt.a.mark((function e(){var t;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.get("https://fakestoreapi.com/products");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),at=Object($e.c)({name:"products",initialState:{loading:!1,list:[],error:null},reducers:{},extraReducers:(ze={},Object(f.a)(ze,ct.pending,(function(e){e.loading=!0})),Object(f.a)(ze,ct.fulfilled,(function(e,t){e.loading=!1,e.list=t.payload})),Object(f.a)(ze,ct.rejected,(function(e,t){e.loading=!1,e.error=t.payload})),ze)}).reducer,rt=ce.a.create({baseURL:"http://localhost:3001",withCredentials:!0}),st=Object($e.b)("auth/login",function(){var e=Object(nt.a)(tt.a.mark((function e(t){var n;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt.post("/auth",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),it=Object($e.b)("auth/logout",Object(nt.a)(tt.a.mark((function e(){var t;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt.post("/auth/logout");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),ot=Object($e.b)("auth/fetchSession",Object(nt.a)(tt.a.mark((function e(){var t;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt.get("/auth/me");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))),lt=Object($e.c)({name:"auth",initialState:{hasLoaded:!1,user:null},reducers:{},extraReducers:(We={},Object(f.a)(We,st.fulfilled,(function(e,t){e.hasLoaded=!0,e.user=t.payload.user})),Object(f.a)(We,st.rejected,(function(e,t){e.hasLoaded=!0,e.user=null})),Object(f.a)(We,ot.fulfilled,(function(e,t){e.hasLoaded=!0,e.user=t.payload.user})),Object(f.a)(We,it.fulfilled,(function(e,t){e.user=null})),We)}).reducer;var jt=function(e){var t=e.product,n=Object(he.b)();return Object(c.jsxs)(A.a,{children:[Object(c.jsxs)(A.a.Content,{children:[Object(c.jsx)(L.a,{style:{marginBottom:20},src:t.image}),Object(c.jsx)(A.a.Header,{children:t.title}),Object(c.jsx)(A.a.Meta,{children:t.type}),Object(c.jsxs)(A.a.Description,{children:["Price: ",t.price,"$"]})]}),Object(c.jsx)(A.a.Content,{extra:!0,children:Object(c.jsx)("div",{className:"ui two buttons",children:Object(c.jsx)(g.a,{basic:!0,color:"green",onClick:function(){return n(Ke(t.id))},children:"Buy"})})})]})},ut=Object(De.a)((function(e){return e.products.list}),(function(e){return e})),dt=Object(De.a)((function(e){return e.products.loading}),(function(e){return e}));var bt=function(){var e=Object(he.c)(ut),t=Object(he.c)(dt);return Object(c.jsxs)(B.a,{children:[Object(c.jsx)(se,{active:t}),Object(c.jsx)(A.a.Group,{children:e.map((function(e){return Object(c.jsx)(jt,{product:e},e.id)}))})]})};var Ot=function(e){var t=e.product,n=Object(he.b)();return Object(c.jsxs)(M.a.Item,{children:[Object(c.jsxs)(M.a.Content,{floated:"right",children:[Object(c.jsx)(g.a,{icon:!0,onClick:function(){return n(Ke(t.id))},children:Object(c.jsx)(x.a,{name:"plus"})}),Object(c.jsx)(g.a,{icon:!0,onClick:function(){return 1===t.count?window.confirm("Are you sure you want to remove the product")&&n(Ze(t.id)):n(Ze(t.id))},children:Object(c.jsx)(x.a,{name:"minus"})})]}),Object(c.jsx)(L.a,{avatar:!0,src:t.image}),Object(c.jsxs)(M.a.Content,{children:[t.title," - ",Object(c.jsxs)("span",{className:"muted",children:[t.price,"$ x ",t.count," = ",t.price*t.count,"$"]})]})]})},ht=Object(De.a)(ut,(function(e){return e.cart}),(function(e,t){return t.map((function(t){var n=e.find((function(e){return e.id===t.id})),c=n.id,a=n.img,r=n.price,s=n.title;return{id:c,count:t.count,img:a,price:r,title:s}}))})),pt=Object(De.a)(ht,(function(e){return e.reduce((function(e,t){return e+1*t.count}),0)})),mt=Object(De.a)(ht,(function(e){return e.reduce((function(e,t){return e+t.price*t.count}),0)}));var xt=function(){var e=Object(he.c)(mt);return Object(c.jsx)(M.a.Item,{className:"cart-summary-row",children:Object(c.jsx)(M.a.Content,{floated:"right",children:Object(c.jsxs)(g.a,{as:"div",labelPosition:"right",children:[Object(c.jsxs)(g.a,{icon:!0,color:"green",children:[Object(c.jsx)(x.a,{name:"dollar sign",style:{marginRight:10}}),"Checkout"]}),Object(c.jsxs)(Ie.a,{as:"a",basic:!0,pointing:"left",children:[e,"$"]})]})})})};var ft=function(e){var t=e.cartProducts;return Object(c.jsxs)(M.a,{divided:!0,verticalAlign:"middle",style:{width:"50%"},size:"huge",children:[t.map((function(e){return Object(c.jsx)(Ot,{product:e},e.id)})),Object(c.jsx)(xt,{})]})};var vt=function(){var e=Object(he.c)(ht);return 0===e.length?Object(c.jsxs)(Q.a,{as:"h2",children:["Go and ",Object(c.jsx)(Z.b,{to:"/",children:"buy"})," something"]}):Object(c.jsx)(ft,{cartProducts:e})},gt=n(42),Ct=n(400),yt=n(149),wt=n(46),Nt=wt.b().shape({email:wt.d().email().test("emailUniqueTest","This email has already been taken",function(){var e=Object(nt.a)(tt.a.mark((function e(t){var n;return tt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,rt.get("/users/is-exist?email=".concat(t.toLowerCase())).then((function(e){return e.data}));case 4:return n=e.sent,e.abrupt("return",!n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).required(),firstName:wt.d().required(),lastName:wt.d().required(),password:wt.d().min(5).required(),repeatPassword:wt.d().oneOf([wt.c("password"),null]),age:wt.a().positive().integer().min(15).max(99).required()});var _t=function(){var e=Object(J.g)(),t=Object(gt.c)({resolver:Object(yt.yupResolver)(Nt),mode:"onBlur",reValidateMode:"onChange"}),n=t.handleSubmit,a=t.errors,r=t.control,s=t.reset;return Object(c.jsx)(B.a,{children:Object(c.jsxs)(G.a,{onSubmit:n((function(t){return rt.post("/users/signup",t).then((function(t){t.data&&(alert("Account has been created, pleaase use your credentials to login"),e.push("/signin"))})).catch((function(e){alert(e.response.data.error)}))})),children:[Object(c.jsxs)(G.a.Field,{children:[Object(c.jsx)("label",{htmlFor:"",children:"Email"}),Object(c.jsx)(gt.a,{name:"email",control:r,as:v.a,placeholder:"Ivan",defaultValue:""}),a.email&&Object(c.jsx)(Ct.a,{color:"red",children:a.email.message})]}),Object(c.jsxs)(G.a.Field,{children:[Object(c.jsx)("label",{htmlFor:"",children:"Password"}),Object(c.jsx)(gt.a,{name:"password",type:"password",control:r,as:v.a,placeholder:"******",defaultValue:""}),a.password&&Object(c.jsx)(Ct.a,{color:"red",children:a.password.message})]}),Object(c.jsxs)(G.a.Field,{children:[Object(c.jsx)("label",{htmlFor:"",children:"Repeat Password"}),Object(c.jsx)(gt.a,{type:"password",name:"repeatPassword",control:r,as:v.a,placeholder:"******",defaultValue:""}),a.repeatPassword&&Object(c.jsx)(Ct.a,{color:"red",children:a.repeatPassword.message})]}),Object(c.jsxs)(G.a.Field,{children:[Object(c.jsx)("label",{htmlFor:"",children:"First Name"}),Object(c.jsx)(gt.a,{name:"firstName",control:r,as:v.a,placeholder:"Ivan",defaultValue:""}),a.firstName&&Object(c.jsx)(Ct.a,{color:"red",children:a.firstName.message})]}),Object(c.jsxs)(G.a.Field,{children:[Object(c.jsx)("label",{htmlFor:"",children:"Last Name"}),Object(c.jsx)(gt.a,{name:"lastName",control:r,as:v.a,placeholder:"Ivanov",defaultValue:""}),a.lastName&&Object(c.jsx)(Ct.a,{color:"red",children:a.lastName.message})]}),Object(c.jsxs)(G.a.Field,{children:[Object(c.jsx)("label",{htmlFor:"",children:"Age"}),Object(c.jsx)(gt.a,{name:"age",control:r,placeholder:"15",defaultValue:"",type:"number",as:v.a}),a.age&&Object(c.jsx)(Ct.a,{color:"red",children:a.age.message})]}),Object(c.jsx)(g.a,{type:"submit",primary:!0,children:"Sign Up"}),Object(c.jsx)(g.a,{type:"button",color:"yellow",onClick:function(){return s({})},children:"Reset"})]})})};var St=function(e){return Object(c.jsxs)(B.a,{children:[Object(c.jsx)(Q.a,{children:"Welcome to our app"}),Object(c.jsx)(_t,{})]})};function Et(){return Object(c.jsx)(B.a,{className:"page",children:Object(c.jsx)(Q.a,{children:"404 Page not Found"})})}var kt=wt.b().shape({email:wt.d().email("EMAIL FIELD"),password:wt.d().required()});var Tt=function(){var e=Object(J.g)(),t=Object(he.b)(),n=Object(gt.c)({resolver:Object(yt.yupResolver)(kt)}),a=n.handleSubmit,r=n.errors,s=n.control;return Object(c.jsx)(B.a,{children:Object(c.jsxs)(G.a,{onSubmit:a((function(n){t(st(n)).then((function(t){t.payload.success?e.replace("/"):alert("Incorrect credentials! Please try again!")}))})),children:[Object(c.jsxs)(G.a.Field,{children:[Object(c.jsx)("label",{htmlFor:"",children:"Email"}),Object(c.jsx)(gt.a,{name:"email",control:s,as:v.a,placeholder:"test@gmail.com",defaultValue:""}),r.email&&Object(c.jsx)(Ct.a,{color:"red",children:r.email.message})]}),Object(c.jsxs)(G.a.Field,{children:[Object(c.jsx)("label",{htmlFor:"",children:"Password"}),Object(c.jsx)(gt.a,{type:"password",name:"password",control:s,as:v.a,placeholder:"*****",defaultValue:""}),r.firstName&&Object(c.jsx)(Ct.a,{color:"red",children:r.firstName.message})]}),Object(c.jsx)(g.a,{type:"submit",primary:!0,children:"Sign In"})]})})};var Pt=function(e){return Object(c.jsx)(B.a,{children:Object(c.jsx)(Tt,{})})};n(369);var It=function(){var e=Object(he.c)(pt),t=Object(he.c)(mt);return Object(c.jsxs)("div",{className:"cart-icon",children:[Object(c.jsx)(x.a,{name:"cart"}),e>0&&Object(c.jsx)("span",{className:"badge",children:e}),t>0&&Object(c.jsxs)("span",{children:["Total: ",t,"$"]})]})},Dt=Object(De.a)((function(e){return e.auth}),(function(e){return e}));var Ft=function(e){var t=Object(he.b)(),n=Object(he.c)(Dt).user;return Object(c.jsxs)(K.a,{children:[!n&&Object(c.jsx)(Z.c,{as:"button",to:"/signup",exact:!0,className:"item",activeClassName:"active-nav",children:"Sign Up"}),!n&&Object(c.jsx)(Z.c,{as:"button",to:"/signin",exact:!0,className:"item",activeClassName:"active-nav",children:"Sign In"}),n&&Object(c.jsx)(Z.c,{to:"/products",exact:!0,className:"item",activeClassName:"active-nav",children:"Products"}),n&&Object(c.jsx)(Z.c,{to:"/cart",className:"item",activeClassName:"active-nav",children:Object(c.jsx)(It,{})}),n&&Object(c.jsx)(K.a.Menu,{position:"right",children:Object(c.jsx)(K.a.Item,{name:"logout",onClick:function(){return t(it())}})})]})};var Rt=function(){var e=Object(he.c)(Dt).user;return Object(c.jsx)(B.a,{children:Object(c.jsxs)("h1",{children:[e&&Object(c.jsxs)("span",{children:["Welcome ",e.firstName,", please visit ",Object(c.jsx)(Z.b,{to:"/products",children:"store"})," to buy something"]}),!e&&Object(c.jsxs)("span",{children:["Hello, please ",Object(c.jsx)(Z.b,{to:"/signin",children:"login"})," to see products"]})]})})},Ut=n(217);var At=function(e){var t=e.children,n=Object(Ut.a)(e,["children"]),a=Object(he.c)(Dt);return Object(c.jsx)(J.b,Object(p.a)(Object(p.a)({},n),{},{render:function(e){var n=e.location;return a.user?t:Object(c.jsx)(J.a,{to:{pathname:"/signin",state:{from:n}}})}}))};function Lt(){var e=Object(he.b)();return Object(a.useEffect)((function(){e(ct()),e(ot())}),[]),Object(he.c)(Dt).hasLoaded?Object(c.jsx)(B.a,{children:Object(c.jsxs)(Z.a,{children:[Object(c.jsx)(Q.a,{children:Object(c.jsx)(Z.c,{to:"/",activeClassName:"active-nav",children:"Shop"})}),Object(c.jsx)(Ft,{}),Object(c.jsxs)(J.d,{children:[Object(c.jsx)(J.b,{path:"/",exact:!0,children:Object(c.jsx)(Rt,{})}),Object(c.jsx)(J.b,{path:"/signup",exact:!0,children:Object(c.jsx)(St,{})}),Object(c.jsx)(J.b,{path:"/signin",exact:!0,children:Object(c.jsx)(Pt,{})}),Object(c.jsx)(At,{path:"/products",exact:!0,children:Object(c.jsx)(bt,{})}),Object(c.jsx)(At,{path:"/cart",exact:!0,children:Object(c.jsx)(vt,{})}),Object(c.jsx)(J.b,{path:"*",children:Object(c.jsx)(Et,{})})]})]})}):Object(c.jsx)(se,{active:!0})}var Mt=Object($e.a)({reducer:{cart:Je,products:at,auth:lt},middleware:Object(b.a)(Object($e.d)()),devTools:!0});function Vt(){return Object(c.jsx)(he.a,{store:Mt,children:Object(c.jsx)(Lt,{})})}var qt=function(e){Object(j.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(c.jsx)("div",{className:"app",children:Object(c.jsx)(Vt,{})})}}]),n}(r.a.Component);i.a.render(Object(c.jsx)(qt,{}),document.getElementById("root"))}},[[370,1,2]]]);
//# sourceMappingURL=main.54bcf44f.chunk.js.map